import{_ as S,o as s,f as L,w as T,a as e,c as n,F as v,r as h,u as a,t as r,k as I,n as M,p as J,g as q,m as k,e as U,s as $,v as j,B as y,x as R,C as A,i as G,j as V}from"./index-022f488f.js";import{g as F}from"./get_image_url-77046cda.js";import{L as H}from"./ImgLayout-d2f20791.js";const g=m=>(J("data-v-46286105"),m=m(),q(),m),K=g(()=>e("div",{class:"exclusive-bg position-absolute bg-black opacity-75"},null,-1)),P={class:"exclusive position-absolute text-white"},Q={class:"bi bi-triangle-fill position-relative font-27 fw-bold"},W=g(()=>e("i",{class:"bi bi-triangle-fill inner position-absolute text-black font-12"},null,-1)),X=[W],Y={class:"bi bi-triangle position-relative font-27 fw-bold"},Z=g(()=>e("i",{class:"bi bi-triangle-fill inner position-absolute text-white font-12"},null,-1)),ee=[Z],te={class:"skill position-absolute font-26 text-white"},se={class:"level-rank position-absolute font-20 text-white"},ne=g(()=>e("div",{class:"footer-bg position-absolute overflow-hidden opacity-75"},null,-1)),oe={class:"level position-absolute text-white font-26"},le={class:"rank-img position-absolute"},ae=["src"],ie={class:"shackles position-absolute rounded-4 text-white"},ce=g(()=>e("i",{class:"bi bi-chevron-left position-absolute"},null,-1)),re=g(()=>e("i",{class:"bi bi-dash position-absolute"},null,-1)),de=g(()=>e("i",{class:"bi bi-dash position-absolute"},null,-1)),ue={class:"sinner-name position-absolute text-white font-16"},_e={__name:"Img",props:{job:String,sinner:Object},setup(m){const p=m,t=p.sinner,i=u=>t.shackle>=u,_=u=>{switch(u){case 0:return 3;case 1:return 2;case 2:return 1;case 3:return 0}};return(u,f)=>(s(),L(a(H),{job:p.job,sinner:a(t)},{default:T(()=>[K,e("div",P,[(s(!0),n(v,null,h(a(t).exclusive,o=>(s(),n("i",Q,X))),256)),(s(!0),n(v,null,h(_(a(t).exclusive),o=>(s(),n("i",Y,ee))),256))]),e("div",te,r(a(t).skill),1),e("div",se,[(s(!0),n(v,null,h(a(t).levelRank,o=>(s(),n(v,null,[I(r("✦"))],64))),256)),(s(!0),n(v,null,h(3-a(t).levelRank,o=>(s(),n(v,null,[I(r("✧"))],64))),256))]),ne,e("div",oe,r(a(t).level),1),e("div",le,[e("img",{src:a(F)(`rank/${a(t).rank}.png`),alt:"",loading:"lazy",class:"w-100 h-100"},null,8,ae)]),e("div",ie,[(s(),n(v,null,h(5,o=>e("div",{class:M(["shackle-item d-inline-block position-absolute rounded border border-light",{"bg-white border-0":i(o)}])},null,2)),64)),ce,re,de]),e("div",ue,r(u.$t(`sinner.${a(t).name}`)),1)]),_:1},8,["job","sinner"]))}},ve=S(_e,[["__scopeId","data-v-46286105"]]);const pe={class:"form-box row flex-nowrap gap-1 m-0"},he={class:"form-img p-0"},me={class:"col p-0"},be={class:"input-group rounded-0"},fe={class:"input-group-text d-block rounded-0 text-center font-16"},ke=["placeholder"],ge={class:"input-group rounded-0"},$e={class:"input-group-text d-block rounded-0 text-center font-16"},xe={class:"form-control rounded-0 font-16"},we={class:"form-check form-check-inline min-h-0"},Se=["id","value","checked","disabled"],ye=["for"],Ce={class:"input-group rounded-0"},Ie={class:"input-group-text d-block rounded-0 text-center font-16"},je={class:"form-control rounded-0 font-16"},Re={class:"form-check form-check-inline min-h-0"},Ve=["id","value","checked"],Le=["for"],Me={class:"input-group rounded-0"},Ue={class:"input-group-text d-block rounded-0 text-center font-16"},Fe={class:"form-control rounded-0 font-16"},Be={class:"form-check form-check-inline min-h-0"},Ee=["id","value","checked","disabled"],Ne=["for"],ze={class:"input-group rounded-0"},Oe={class:"input-group-text d-block rounded-0 text-center font-16"},De=["placeholder"],Te=["onClick"],Je={__name:"Form",props:{job:String,sinner:Object},setup(m){const p=m,t=p.sinner,i=k(t.level),_=k(t.levelRank),u=k(t.shackle),f=k(t.exclusive),o=k(t.skill),x=()=>{t.level=i.value,i.value>70?_.value=3:i.value>40?_.value=2:i.value>20?_.value=1:_.value=0,C()},B=d=>{switch(d){case 0:return i.value>20;case 1:return i.value<20||i.value>40;case 2:return i.value<40||i.value>70;case 3:return i.value<70;default:return!0}},C=()=>{t.levelRank=_.value},E=()=>{t.shackle=u.value},N=()=>{t.exclusive=f.value},z=()=>{t.skill=o.value},O=()=>{console.log(t),D();const d=[],c=d.findIndex(b=>b.name===t.name);c<0?d.push(t):d[c]=t,localStorage.setItem("ptnSinners",JSON.stringify(d)),console.log(localStorage.getItem("ptnSinners"))},D=()=>localStorage.getItem("ptnSinners");return(d,c)=>(s(),n("form",{onSubmit:c[5]||(c[5]=R(()=>{},["prevent"]))},[e("div",pe,[e("div",he,[U(a(ve),{job:p.job,sinner:a(t)},null,8,["job","sinner"])]),e("div",me,[e("div",be,[e("span",fe,r(d.$t("team_building.level")),1),$(e("input",{"onUpdate:modelValue":c[0]||(c[0]=b=>i.value=b),onChange:x,type:"number",class:"form-control level-input rounded-0 font-16",placeholder:i.value,min:"1",max:"90"},null,40,ke),[[j,i.value]])]),e("div",ge,[e("span",$e,r(d.$t("team_building.rank")),1),e("div",xe,[(s(),n(v,null,h(4,(b,l)=>e("div",we,[$(e("input",{"onUpdate:modelValue":c[1]||(c[1]=w=>_.value=w),onChange:C,class:"form-check-input",type:"radio",name:"sinnerLevelRank",id:`rank_${l}`,value:l,checked:!l,disabled:B(l)},null,40,Se),[[y,_.value]]),e("label",{class:"form-check-label",for:`rank_${l}`},r(l),9,ye)])),64))])]),e("div",Ce,[e("span",Ie,r(d.$t("team_building.shackle")),1),e("div",je,[(s(),n(v,null,h(6,(b,l)=>e("div",Re,[$(e("input",{"onUpdate:modelValue":c[2]||(c[2]=w=>u.value=w),onChange:E,class:"form-check-input",type:"radio",name:"sinnerShackle",id:`shackle_${l}`,value:l,checked:!l},null,40,Ve),[[y,u.value]]),e("label",{class:"form-check-label",for:`shackle_${l}`},r(l),9,Le)])),64))])]),e("div",Me,[e("span",Ue,r(d.$t("team_building.exclusive")),1),e("div",Fe,[(s(),n(v,null,h(4,(b,l)=>e("div",Be,[$(e("input",{"onUpdate:modelValue":c[3]||(c[3]=w=>f.value=w),onChange:N,class:"form-check-input",type:"radio",name:"sinnerExclusive",id:`exclusive_${l}`,value:l,checked:!l,disabled:_.value<3},null,40,Ee),[[y,f.value]]),e("label",{class:"form-check-label",for:`exclusive_${l}`},r(l),9,Ne)])),64))])]),e("div",ze,[e("span",Oe,r(d.$t("team_building.skill")),1),$(e("input",{"onUpdate:modelValue":c[4]||(c[4]=b=>o.value=b),onChange:z,type:"text",minlength:"4",maxlength:"4",class:"form-control rounded-0 font-16",placeholder:d.$t("team_building.prompt.skill")},null,40,De),[[j,o.value]])]),e("button",{onClick:R(O,["prevent"]),type:"submit",class:"btn btn-primary mt-1"},r(d.$t("team_building.add")),9,Te)])])],32))}},qe=S(Je,[["__scopeId","data-v-ced44784"]]),Ae={},Ge={id:"myCanvas",width:"200",height:"100",class:"bg-warning"};function He(m,p){return s(),n("canvas",Ge)}const Ke=S(Ae,[["render",He]]);const Pe={class:"main-box overflow-scroll font-20"},Qe={class:"table table-sm table-hover border-dark"},We={class:"w-15 p-1"},Xe=["value"],Ye={class:"p-1"},Ze={class:"d-flex flex-wrap gap-1"},et=["onClick"],tt=["src"],st={__name:"Main",setup(m){const p=k("endura"),t=k(null),i=()=>{t.value=null},_=u=>{t.value={...u,level:1,levelRank:0,shackle:0,exclusive:0,skill:null}};return(u,f)=>(s(),n("div",Pe,[e("table",Qe,[e("tbody",null,[e("tr",null,[e("th",We,[$(e("select",{"onUpdate:modelValue":f[0]||(f[0]=o=>p.value=o),onChange:i,class:"form-select form-select-sm p-0"},[(s(!0),n(v,null,h(a(V),(o,x)=>(s(),n("option",{value:x},r(u.$t(`nav.${x}`)),9,Xe))),256))],544),[[A,p.value]])]),e("td",Ye,[e("div",Ze,[(s(!0),n(v,null,h(a(V)[p.value],o=>(s(),n("div",{onClick:x=>_(o),class:"avatar-box border border-dark cursor-pointer"},[e("img",{src:a(F)(`avatar/${o.name}.png`),alt:"",loading:"lazy",class:M(["avatar w-100",`rank-${o==null?void 0:o.rank}`])},null,10,tt)],8,et))),256))])])])])]),t.value?(s(),L(a(qe),{job:p.value,sinner:t.value,key:t.value.name},null,8,["job","sinner"])):G("",!0),U(a(Ke))]))}},at=S(st,[["__scopeId","data-v-81f21f4e"]]);export{at as default};
